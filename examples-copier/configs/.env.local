# Local Development Environment Configuration
# Copy this file to .env for local testing

# ============================================================================
# REQUIRED FOR LOCAL TESTING
# ============================================================================

# Repository Configuration
REPO_OWNER=mongodb
REPO_NAME=docs-realm
SRC_BRANCH=main

# Configuration Files
CONFIG_FILE=copier-config.yaml
DEPRECATION_FILE=deprecated_examples.json

# ============================================================================
# DISABLE CLOUD SERVICES FOR LOCAL TESTING
# ============================================================================

# Disable Google Cloud Logging (use stdout instead)
COPIER_DISABLE_CLOUD_LOGGING=true

# Disable Audit Logging (or use local MongoDB)
AUDIT_ENABLED=false

# ============================================================================
# DEVELOPMENT FEATURES
# ============================================================================

# Dry-run mode (no actual commits)
DRY_RUN=true

# Enable debug logging
LOG_LEVEL=debug
COPIER_DEBUG=true

# Enable metrics endpoint
METRICS_ENABLED=true

# Server port
PORT=8080

# ============================================================================
# GITHUB CREDENTIALS (REQUIRED FOR REAL PR TESTING)
# ============================================================================

# GitHub App ID (get from GitHub App settings)
# GITHUB_APP_ID=123456

# GitHub Installation ID (get from GitHub App installation)
# GITHUB_INSTALLATION_ID=789012

# For local testing, you can use a Personal Access Token instead
# Get from: https://github.com/settings/tokens
# Required scopes: repo (for reading PRs and files)
GITHUB_TOKEN=

# ============================================================================
# OPTIONAL: GOOGLE CLOUD (ONLY IF TESTING CLOUD FEATURES)
# ============================================================================

# Only set these if you want to test with actual GCP
# GCP_PROJECT_ID=your-project-id
# PEM_KEY_NAME=projects/123/secrets/CODE_COPIER_PEM/versions/latest

# ============================================================================
# OPTIONAL: MONGODB AUDIT LOGGING (FOR LOCAL TESTING)
# ============================================================================

# Uncomment to enable audit logging with local/cloud MongoDB
# AUDIT_ENABLED=true
# MONGO_URI=mongodb://localhost:27017
# Or use MongoDB Atlas:
# MONGO_URI=mongodb+srv://user:pass@cluster.mongodb.net
# AUDIT_DATABASE=code_copier_dev
# AUDIT_COLLECTION=audit_events

# ============================================================================
# WEBHOOK TESTING
# ============================================================================

# Webhook secret (for signature verification)
# Leave empty for local testing without signature verification
WEBHOOK_SECRET=

# ============================================================================
# SLACK NOTIFICATIONS (Optional)
# ============================================================================

# Slack webhook URL (get from Slack: Apps â†’ Incoming Webhooks)
# Leave empty to disable Slack notifications
SLACK_WEBHOOK_URL=

# Slack channel to post to (default: #code-examples)
SLACK_CHANNEL=#code-examples

# Slack bot username (default: Examples Copier)
SLACK_USERNAME=Examples Copier

# Slack bot icon emoji (default: :robot_face:)
SLACK_ICON_EMOJI=:robot_face:

# Enable/disable Slack notifications (default: true if webhook URL is set)
SLACK_ENABLED=false

# ============================================================================
# NOTES
# ============================================================================

# To use this file:
#   cp configs/.env.local configs/.env
#   # Edit .env with your values
#   source configs/.env
#   ./examples-copier

# Or use with make:
#   make run-dry

# Or run directly:
#   COPIER_DISABLE_CLOUD_LOGGING=true DRY_RUN=true ./examples-copier

